<!DOCTYPE html>
<html>
<head>
    <title>Manage Payer Groups</title>
</head>
<body>
    <h1>Manage Payer Groups</h1>
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    <form method="POST" action="{{ url_for('merge_groups') }}">
        <label>Merge Source Group:</label>
        <select name="source_group">
            {% for group in groups %}
            <option value="{{ group.id }}">{{ group.name }}</option>
            {% endfor %}
        </select>
        <label>Into Target Group:</label>
        <select name="target_group">
            {% for group in groups %}
            <option value="{{ group.id }}">{{ group.name }}</option>
            {% endfor %}
        </select>
        <button type="submit">Merge</button>
    </form>
    <h2>Existing Groups</h2>
    <ul>
        {% for group in groups %}
        <li>{{ group.name }} ({{ group.payers|length }} payers)</li>
        {% endfor %}
    </ul>
    <a href="{{ url_for('index') }}">Back</a>
</body>
</html>